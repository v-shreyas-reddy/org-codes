<template>
  <lightning-card title="Resource Object" icon-name="standard:form">
    <div class="slds-grid slds-wrap slds-p-around_medium">
      <div class="slds-col slds-size_1-of-2 slds-p-around_x-small">
        <!-- Account lookup as picklist -->
        <lightning-combobox
          label="Account"
          placeholder="-Select Account-"
          options={accountOptions}
          onchange={handleAccountChange}
          value={getResource.Account__c}
        ></lightning-combobox>

        <!-- Opportunity lookup as picklist -->
        <lightning-combobox
          label="Opportunity"
          placeholder="-Select Opportunity-"
          options={oppOptions}
          onchange={handleOppChange}
          value={getResource.Opportunity__c}
        ></lightning-combobox>

        <!-- Requester Name -->
        <lightning-input
          label="Requester Name"
          type="text"
          onchange={handleRequesterName}
          required
        ></lightning-input>
        <!-- Recruiter Name -->
        <lightning-input
          label="Recruiter Name"
          type="text"
          onchange={handleRecruiterName}
          required
        ></lightning-input>
        <!-- Employee Name (Replacement) -->
        <lightning-input
          label="Employee Name (Replacement)"
          type="text"
          onchange={handleEmpName}
        ></lightning-input>
        <!-- Project Name -->
        <lightning-input
          label="Project Name"
          type="text"
          onchange={handleProjectName}
        ></lightning-input>
        <!-- Recruitment Start Date -->
        <lightning-input
          label="Recruitment Start Date"
          type="Date"
          onchange={handleRecStartDate}
        ></lightning-input>
        <!-- Onboarding Date -->
        <lightning-input
          label="Onboarding Date"
          type="Date"
          onchange={handleOnbDate}
          required
        ></lightning-input>
        <!-- Comments -->
        <lightning-textarea
          label="Comments"
          onchange={handleComments}
        ></lightning-textarea>
        <!-- Positions -->
        <lightning-input
          label="Positions"
          type="Number"
          onchange={handlePositions}
          required
        ></lightning-input>

        <!-- Billing Rate -->
        <lightning-input
          label="Billing Rate"
          type="Number"
          onchange={handleBillRate}
          required
        ></lightning-input>
        <!-- Currency -->
        <lightning-input
          label="Currency"
          type="Number"
          onchange={handleCurrency}
          required
        ></lightning-input>

        <!-- Client_Interview_Required__c -->
        <template if:true={resClientInterReq.data}>
          <lightning-combobox
            label="Client Interview Required"
            options={resClientInterReq.data.values}
            placeholder="-Select-"
            onchange={handleCir}
            required
          ></lightning-combobox>
        </template>
      </div>
      <div class="slds-col slds-size_1-of-2 slds-p-around_x-small">
        <!-- Department -->
        <template if:true={resDepartment.data}>
          <lightning-combobox
            label="Department"
            options={resDepartment.data.values}
            placeholder="-Select-"
            onchange={handleDept}
            required
          ></lightning-combobox>
        </template>
        <!-- Location -->
        <template if:true={resLocation.data}>
          <lightning-combobox
            label="Location"
            options={resLocation.data.values}
            placeholder="-Select-"
            onchange={handleLocation}
          ></lightning-combobox>
        </template>
        <!-- Type -->
        <template if:true={resType.data}>
          <lightning-combobox
            label="Type"
            options={resType.data.values}
            placeholder="-Select-"
            onchange={handleType}
            required
          ></lightning-combobox>
        </template>
        <!-- Employment Type -->
        <template if:true={resEmpType.data}>
          <lightning-combobox
            label="Employment Type"
            options={resEmpType.data.values}
            placeholder="-Select-"
            onchange={handleEmpType}
            required
          ></lightning-combobox>
        </template>
        <!-- Job Location -->
        <template if:true={resJobLoc.data}>
          <lightning-combobox
            label="Job Location"
            options={resJobLoc.data.values}
            placeholder="-Select-"
            onchange={handleJobLoc}
            required
          ></lightning-combobox>
        </template>
        <!-- Client Name -->
        <template if:true={resClientName.data}>
          <lightning-combobox
            label="Client Name"
            options={resClientName.data.values}
            placeholder="-Select-"
            onchange={handleClientName}
            required
          ></lightning-combobox>
        </template>
        <!-- Expertise Area -->
        <template if:true={resExpArea.data}>
          <lightning-combobox
            label="Expertise Area"
            options={resExpArea.data.values}
            placeholder="-Select-"
            onchange={handleExpArea}
            required
          ></lightning-combobox>
        </template>
        <!-- Onsite Interview Required -->
        <template if:true={resOnsiteInterReq.data}>
          <lightning-combobox
            label="Onsite Interview Required"
            options={resOnsiteInterReq.data.values}
            placeholder="-Select-"
            onchange={handleOnIntReq}
          ></lightning-combobox>
        </template>
        <!-- Level & Grade -->
        <template if:true={resLevelGrade.data}>
          <lightning-combobox
            label="Level & Grade"
            options={resLevelGrade.data.values}
            placeholder="-Select-"
            onchange={handleLevGr}
            required
          ></lightning-combobox>
        </template>
        <!-- Priority -->
        <template if:true={resPriority.data}>
          <lightning-combobox
            label="Priority"
            options={resPriority.data.values}
            placeholder="-Select-"
            onchange={handlePriority}
            required
          ></lightning-combobox>
        </template>
        <!-- Title -->
        <template if:true={resTitle.data}>
          <lightning-combobox
            label="Title"
            options={resTitle.data.values}
            placeholder="-Select-"
            onchange={handleTitle}
            required
          ></lightning-combobox>
        </template>
        <!-- Billability -->
        <template if:true={resBillability.data}>
          <lightning-combobox
            label="Billability"
            options={resBillability.data.values}
            placeholder="-Select-"
            onchange={handleBillability}
            required
          ></lightning-combobox>
        </template>
        <!-- Shift Timings -->
        <template if:true={resShiftTimings.data}>
          <lightning-combobox
            label="Shift Timings"
            options={resShiftTimings.data.values}
            placeholder="-Select-"
            onchange={handleShiftTiming}
            required
          ></lightning-combobox>
        </template>
      </div>
    </div>
    <div slot="footer" class="slds-align_absolute-center">
      <lightning-button
        icon-name="utility:save"
        variant="success"
        label="Save"
        onclick={handleSaveClick}
      ></lightning-button>
    </div>
  </lightning-card>

  <!-- <lightning-button variant="success" label="Open popup" title="Open popup" onclick={showModalBox}>
    </lightning-button> -->

  <!-- modal start -->
  <template if:true={isShowModal}>
    <section
      role="dialog"
      tabindex="-1"
      aria-labelledby="modal-heading-01"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open"
    >
      <div class="slds-modal__container">
        <!-- modal header start -->
        <header class="slds-modal__header">
          <!-- <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                        title="Close" onclick={hideModalBox}>
                        <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse"
                            size="small"></lightning-icon>
                        <span class="slds-assistive-text">Close</span>
                    </button> -->
          <h2
            id="modal-heading-01"
            class="slds-text-heading_medium slds-hyphenate"
          >
            Resource request has been sent to:
          </h2>
        </header>

        <!-- modal body start -->
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-1"
        >
          <template if:true={approvers.length}>
            <ul>
              <template for:each={approvers} for:item="approver">
                <li key={approver.email}>{approver.name}</li>
              </template>
            </ul>
          </template>
          <template if:true={error}>
            <p>Error fetching approvers: {error}</p>
          </template>

          <!-- <div class="slds-p-vertical_medium slds-p-left_large">
                        <p class="slds-text-title_bold">Level - 1</p>
                        <p>Approver name: </p>
                        <p>Designation: </p>
                    </div>

                    <div class="slds-p-vertical_medium slds-p-left_large">
                        <p class="slds-text-title_bold">Level - 2</p>
                        <p>Approver name: </p>
                        <p>Designation: </p>
                    </div>

                    <div class="slds-p-vertical_medium slds-p-left_large">
                        <p class="slds-text-title_bold">Level - 3</p>
                        <p>Approver name: </p>
                        <p>Designation: </p>
                    </div> -->
        </div>

        <!-- modal footer start-->
        <footer class="slds-modal__footer">
          <lightning-button
            class="slds-button slds-button_neutral"
            label="OK"
            onclick={hideModalBox}
          ></lightning-button>
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </template>
  <!-- modal end -->
</template>